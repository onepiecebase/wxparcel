language: node_js
sudo: false
node_js:
  - 6

cache:
  directories:
    - node_modules

install:
  - npm install

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

script:
  - bash esdoc.sh

before_deploy:
  - npm run release
  - npm run gh-pages

deploy:
  - provider: pages
    local_dir: gh-pages
    skip_cleanup: true
    github_token:
      secure: Q2Jwu4mA4X5xLkwk8Ojai2+Pn2MZ0ET4bj7E/63hr04Z8JRKZWLNS709vztia4MKUw72fj+NJZhSyemMBkgCxEs3vSH1LA6G85OVApfNb3+XRNrCFCpV8gDvtaozSpgzrCqsmuwFnzTBSBNxL2HhTH3ehJAnpMM470TLTOnm3ay8L37Cb+x6ExcITtenRJBINqUpv5FuAn7Fds7kQrVLzgDgUH1jZYNhGzxAjRWEU/I8pATPN0bAHV0vxdgE7ZM794aMbY3AUgZh6KuiIqu/vgYWDULxMXphaGQ7Xvb8fWuFIopEZ+7NA+K1L8QsfpMTLaU8fsonTpAiDxJsqGCnBMyMtQ1bEpEqOPd6POqxFfY8E5dIaMaV0xaGbtnjnYRkmGbfXSWBQOdWpldyS4WcQyqnVK5FiW54yIgZee9JYZ7zM+feeJu3DH7jwFKD7a/Z9DeffQwcJtq5g2eClmesRev8WD3Z7P1lLRdaEYAF68u2BY3J0iDzg30NMqt65HvCZWiGADBrN/JSpntV+k4KO7xpvaJ5/KqcxhkcB5cjk/uz6IRUb6WvtxAEfkTDq4/VJQr/K7lF7zybtPWzw7ILMYZ91PYSz+WrnzVpfv5k+lKlFdPRfeOC8QcVTHno1DyvnG5sJBRi/+HjPKDUgoPSOqJIxGyadwVpng/FnCmeHOw=
    on:
      branch: master

  - provider: npm
    skip_cleanup: true
    on:
      tags: true
    email: qowera@qq.com
    api_key:
      secure: ZHdTp8tfsf/eIHTPtdsmwtouEmrsh62k3MG48jlsjgZfqU4NGDwjTY4JIacKuFLPvO2uB2toQ4ZV6dXXq2sPRtbAjBoEA6vQaa1Hu5ebJmNXOnZ75QHbIMeoSpQ+ycCMuACIdG59kz/h0BcSmLqV1Td+7EdQk1lrmmP0OReLvMgF47TPhxGH37U1j1dSyUSGOLGV82+14cu8WkL7/rnLLXR6XXTk91sbLjWoMdmaUFX4ofp41dMWlof7MhUMRdabjOuXowwqElXVEhEmT4T4G2Zj9LKU5/FN8rEuxMw0X+K3Phr+d78BUYUIQ2Q7Qi6VLFPZjx3l8ikopFiBx4BF6kzQ8FO0iGYG5QTJiptw9s+QL7OMD388YEetRlxLQdsKhq93YXh6nndmeklIfuX1dd1CXMabuejHJT5p5RCPXhtn/faIBlK1hP1PdHNgm6nM3eKDSPzg0n9iXOcEONjcKrxEjDnJ6TZfKBRPlugqmZdcRqoHvOqvxqog74/IkNkSs9li1n5hv19TFDz8TqcOeDetSIKlFWN9F0coqMTWNfSyLf1FEnpwVFlIGKH0MoLDBPLKN0fhdPrrS6aBLD53zpSrYjeU/+NqRJjnMapteGOajf71bX2OJMLARwrsqDwp28Qhd/StFkAg+TEhVEaSJrS5DjVJ4diA4u6OhIR9Yyo=
